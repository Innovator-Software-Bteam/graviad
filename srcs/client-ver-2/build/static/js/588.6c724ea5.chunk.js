"use strict";(self.webpackChunkclient_ver_2=self.webpackChunkclient_ver_2||[]).push([[588],{9588:(e,t,l)=>{l.r(t),l.d(t,{MenuTemplatePage:()=>w});var a=l(3961),i=l(5043),r=l(9359);const n=(0,i.createContext)(void 0);function s(){return(0,i.useContext)(n)}var d=l(2200),c=l(3156),o=l(5394),u=l(7154),v=l(4558),h=l(423),m=l(579);function f(e){const t=(0,a.Jd)(),l=(null===t||void 0===t||t.merchant,s());return(0,i.useEffect)((()=>{}),[t]),(0,m.jsxs)("div",{className:(0,r.Id)("template-card","flex flex-col gap-8 justify-center items-center","p-4 w-fit aspect-[1/1]"),children:[(0,m.jsx)(x,{children:e.children}),(0,m.jsx)(g,{}),(0,m.jsx)(p,{})]},null===l||void 0===l?void 0:l.id)}function x(e){return(0,m.jsx)("div",{children:e.children})}function p(e){var t;const l=s(),n=(0,a.Jd)(),f=null===n||void 0===n?void 0:n.merchant,[x,p]=(0,i.useState)([]),g=[{icon:(0,m.jsx)(c.sOK,{size:20}),label:(null===l||void 0===l||null===(t=l.numberOfLikes)||void 0===t?void 0:t.toString())||"0"}];return(0,i.useEffect)((()=>{null!==f&&void 0!==f&&f.templateIds&&p(f.templateIds)}),[n]),(0,m.jsxs)("div",{className:(0,r.Id)("w-full","flex flex-row justify-between items-center gap-4"),children:[(0,m.jsx)("div",{className:(0,r.Id)("flex flex-row gap-4 justify-start items-center","w-full"),children:g.map(((e,t)=>(0,m.jsxs)(d.Typography,{variant:"small",className:(0,r.Id)("flex flex-row gap-2 items-center","text-grvd-theme-sys-dark-on-primary-variant font-medium","px-2 py-1"),children:[e.icon,e.label]},t)))}),x.includes(null===l||void 0===l?void 0:l.id)?(0,m.jsx)("button",{className:(0,r.Id)("text-grvd-theme-sys-dark-primary","hover:scale-105 transition-transform duration-300 ease-in-out","bg-white/10","rounded-full"),onClick:async()=>{u.A.post("".concat(v.A.server.url,"/merchants/").concat(null===f||void 0===f?void 0:f.id,"/remove-template/").concat(null===l||void 0===l?void 0:l.id),{},{withCredentials:!0}).then((e=>{p(x.filter((e=>e!==(null===l||void 0===l?void 0:l.id))))})).catch()},children:(0,m.jsx)(h.Knk,{size:48})}):(0,m.jsxs)("button",{className:(0,r.Id)("text-grvd-theme-sys-dark-primary","hover:scale-105 transition-transform duration-300 ease-in-out","bg-white/10","rounded-full","relative"),onClick:async()=>{u.A.post("".concat(v.A.server.url,"/merchants/").concat(null===f||void 0===f?void 0:f.id,"/add-template/").concat(null===l||void 0===l?void 0:l.id),{},{withCredentials:!0}).then((e=>{p([...x,null===l||void 0===l?void 0:l.id])})).catch()},children:[(0,m.jsx)("div",{className:(0,r.Id)("hover:animate-ping","hover:bg-white/10","w-full h-full ","absolute rounded-full -z-0")}),(0,m.jsx)(o.YHj,{size:48})]})]})}function g(e){var t;const l=s();return(0,m.jsxs)("div",{className:(0,r.Id)("flex flex-col gap-4","w-full"),children:[(0,m.jsx)("div",{className:"flex flex-row flex-wrap items-center justify-start gap-2",children:null===l||void 0===l||null===(t=l.tagLabels)||void 0===t?void 0:t.map((e=>(0,m.jsx)(d.Typography,{variant:"small",className:(0,r.Id)("px-2 py-1 rounded-md","text-grvd-theme-sys-dark-primary","bg-white/10"),children:e},e)))}),(0,m.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,m.jsx)(d.Typography,{variant:"h6",className:"text-grvd-theme-sys-dark-primary",children:null===l||void 0===l?void 0:l.name}),(0,m.jsx)(d.Typography,{variant:"paragraph",className:"text-grvd-theme-sys-dark-on-primary-variant",children:null===l||void 0===l?void 0:l.brief})]})]})}var y=l(4280),j=l(5568);function w(e){const t=(0,a.Jd)(),[l,r]=(0,i.useState)([]),{handleFilter:s}=(0,j.A)();return(0,i.useEffect)((()=>{(async()=>{await u.A.get("".concat(v.A.server.url,"/templates"),{withCredentials:!0}).then((e=>{r(e.data)})).catch((e=>{console.log(e)}))})().then().catch(),console.log(l)}),[]),(0,m.jsx)(a.Wg.Provider,{value:null===t||void 0===t?void 0:t.merchant,children:(0,m.jsx)("div",{className:"w-full flex flex-row gap-4 flex-wrap",children:l.filter((e=>!s||s(e))).map(((e,t)=>(0,m.jsx)(n.Provider,{value:e,children:(0,m.jsx)(f,{children:(0,m.jsx)(y.a2,{typeCustom:e.templateType})})},t)))})})}}}]);
//# sourceMappingURL=588.6c724ea5.chunk.js.map