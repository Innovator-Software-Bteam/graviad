{"version":3,"file":"static/js/588.ef25c30b.chunk.js","mappings":"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","sources":["grvd/molecules/Template/TemplateContext.tsx","grvd/molecules/Template/TemplateCard.tsx","grvd/pages/Dashboard/menu/MenuTemplatePage.tsx"],"sourcesContent":["import {createContext, useContext} from \"react\";\r\nimport {TTemplate} from \"grvd/molecules/Template/types\";\r\n\r\nexport const TemplateContext = createContext<TTemplate | undefined>(undefined);\r\nexport function useTemplate() {\r\n    return useContext(TemplateContext);\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {useUser} from \"grvd/contexts\";\r\nimport {twJoin} from \"tailwind-merge\";\r\nimport {useTemplate} from \"grvd/molecules/Template/TemplateContext\";\r\nimport {Typography} from \"@material-tailwind/react\";\r\nimport {FaRegHeart} from \"react-icons/fa6\";\r\nimport {IoAdd, IoRemoveOutline} from \"react-icons/io5\";\r\nimport axios from \"axios\";\r\nimport config from \"../../../config\";\r\nimport {IoIosRemove} from \"react-icons/io\";\r\nimport {Button} from \"grvd/components/Button\";\r\nimport {useDialog} from \"grvd/organisms\";\r\n\r\nexport interface ITemplateCardProps extends React.ComponentProps<'div'> {\r\n\r\n}\r\n\r\nexport function TemplateCard(props: ITemplateCardProps) {\r\n    const user = useUser();\r\n    const merchant = user?.merchant;\r\n    const template = useTemplate();\r\n\r\n    useEffect(() => {\r\n    }, [user]);\r\n    return (\r\n        <div\r\n            key={template?.id}\r\n            className={twJoin(\r\n                \"template-card\",\r\n                'flex flex-col gap-8 justify-center items-center',\r\n                'p-4 w-full min-w-[300px] aspect-[1/1]'\r\n            )}\r\n        >\r\n            <TemplateSample>\r\n                {props.children}\r\n            </TemplateSample>\r\n            <TemplateCardMain/>\r\n            <TemplateCardTool/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport interface ITemplateSampleProps extends React.ComponentProps<'div'> {\r\n\r\n}\r\n\r\nexport function TemplateSample(props: ITemplateSampleProps) {\r\n    return (\r\n        <div className={'w-full'}>\r\n            {props.children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport interface ITemplateCardToolProps extends React.ComponentProps<'div'> {\r\n\r\n}\r\n\r\nexport type TInfoItem = {\r\n    icon?: React.ReactNode;\r\n    label: string;\r\n}\r\n\r\nexport function TemplateCardTool(props: ITemplateCardToolProps) {\r\n    const template = useTemplate();\r\n    const user = useUser();\r\n    const merchant = user?.merchant;\r\n    const {open} = useDialog();\r\n    const [templateIds, setTemplateIds] = useState<number []>([]);\r\n    const [usingTemplateProfileCardId, setUsingTemplateProfileCardId] = useState<number | undefined>(undefined);\r\n    const items: TInfoItem[] = [\r\n        {\r\n            icon: <FaRegHeart size={20}/>,\r\n            label: template?.numberOfLikes?.toString() || '0'\r\n        }\r\n    ];\r\n\r\n    const renderInfoItem = (item: TInfoItem, index: any) => {\r\n        return (\r\n            <Typography\r\n                key={index}\r\n                variant={'small'}\r\n                className={twJoin(\r\n                    'flex flex-row gap-2 items-center',\r\n                    'text-grvd-theme-sys-dark-on-primary-variant font-medium',\r\n                    'px-2 py-1'\r\n                )}\r\n            >\r\n                {item.icon}\r\n                {item.label}\r\n            </Typography>\r\n        );\r\n    };\r\n    const handleAddTemplate = async () => {\r\n        axios\r\n            .post(`${config.server.url}/merchants/${merchant?.id}/add-template/${template?.id}`, {}, {\r\n                withCredentials: true\r\n            })\r\n            .then(res => {\r\n                setTemplateIds([...templateIds, template?.id as any]);\r\n            })\r\n            .catch();\r\n    };\r\n    const handleRemoveTemplate = async () => {\r\n        axios\r\n            .post(`${config.server.url}/merchants/${merchant?.id}/remove-template/${template?.id}`, {}, {\r\n                withCredentials: true\r\n            })\r\n            .then(res => {\r\n                setTemplateIds(templateIds.filter(id => id !== template?.id));\r\n            })\r\n            .catch();\r\n    };\r\n    const handleUseTemplate = async () => {\r\n        if(!merchant?.id) return;\r\n        axios\r\n            .patch(`${config.server.url}/merchants/${merchant?.id}`, {\r\n                usingTemplateProfileCardId: template?.id\r\n            }, {\r\n                withCredentials: true\r\n            })\r\n            .then(res => {\r\n                const merchant = res.data;\r\n                setUsingTemplateProfileCardId(merchant.usingTemplateProfileCardId);\r\n            })\r\n            .catch(e=>{\r\n                open(null, 'error');\r\n                console.error(e);\r\n            });\r\n    };\r\n    useEffect(() => {\r\n        if (merchant?.templateIds) setTemplateIds(merchant.templateIds);\r\n        if(merchant?.usingTemplateProfileCardId) setUsingTemplateProfileCardId(merchant.usingTemplateProfileCardId);\r\n    }, [user]);\r\n    useEffect(() => {\r\n\r\n    }, [usingTemplateProfileCardId]);\r\n    return (\r\n        <div className={twJoin(\r\n            'w-full',\r\n            'flex flex-row justify-between items-center gap-4',\r\n        )}>\r\n            <div\r\n                className={twJoin(\r\n                    'flex flex-row gap-4 justify-start items-center',\r\n                    'w-full'\r\n                )}\r\n            >\r\n                {items.map(renderInfoItem)}\r\n            </div>\r\n            {\r\n                usingTemplateProfileCardId === template?.id ?\r\n\r\n                    <Button\r\n                        colorcustom={'secondary'}\r\n                        sizecustom={'lg'}\r\n                    >\r\n                        Using\r\n                    </Button>\r\n                    :\r\n                    <Button\r\n                        colorcustom={'primary'}\r\n                        sizecustom={'lg'}\r\n                        onClick={handleUseTemplate}\r\n                    >\r\n                        Use\r\n                    </Button>\r\n            }\r\n            {\r\n                !templateIds.includes(template?.id as any) ?\r\n                    <button className={twJoin(\r\n                        'text-grvd-theme-sys-dark-primary',\r\n                        'hover:scale-105 transition-transform duration-300 ease-in-out',\r\n                        'bg-white/10',\r\n                        'rounded-full',\r\n                        'relative'\r\n                    )}\r\n                            onClick={handleAddTemplate}\r\n                    >\r\n                        <div className={twJoin(\r\n                            'hover:animate-ping',\r\n                            'hover:bg-white/10',\r\n                            'w-full h-full ',\r\n                            'absolute rounded-full -z-0',\r\n                        )}/>\r\n                        <IoAdd size={48}/>\r\n                    </button>\r\n                    :\r\n                    <button className={twJoin(\r\n                        'text-grvd-theme-sys-dark-primary',\r\n                        'hover:scale-105 transition-transform duration-300 ease-in-out',\r\n                        'bg-white/10',\r\n                        'rounded-full',\r\n                    )}\r\n                            onClick={handleRemoveTemplate}\r\n                    >\r\n                        <IoIosRemove size={48}/>\r\n                    </button>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport interface ITemplateCardMainProps extends React.ComponentProps<'div'> {\r\n\r\n}\r\n\r\nexport function TemplateCardMain(props: ITemplateCardMainProps) {\r\n    const template = useTemplate();\r\n    const renderTemplateTagLabels = (tagLabel: string) => {\r\n        return (\r\n            <Typography\r\n                key={tagLabel}\r\n                variant={'small'}\r\n                className={twJoin(\r\n                    'px-2 py-1 rounded-md',\r\n                    'text-grvd-theme-sys-dark-primary',\r\n                    'bg-white/10',\r\n                )}\r\n            >\r\n                {tagLabel}\r\n            </Typography>\r\n        );\r\n\r\n    };\r\n    return (\r\n        <div\r\n            className={twJoin(\r\n                'flex flex-col gap-4',\r\n                'w-full'\r\n            )}\r\n        >\r\n            <div\r\n                className={'flex flex-row flex-wrap items-center justify-start gap-2'}\r\n            >\r\n                {template?.tagLabels?.map(renderTemplateTagLabels)}\r\n            </div>\r\n            <div\r\n                className={'flex flex-col gap-0'}\r\n            >\r\n                <Typography\r\n                    variant={'h6'}\r\n                    className={'text-grvd-theme-sys-dark-primary'}\r\n                >\r\n                    {template?.name}\r\n                </Typography>\r\n                <Typography\r\n                    variant={'paragraph'}\r\n                    className={'text-grvd-theme-sys-dark-on-primary-variant'}\r\n                >\r\n                    {template?.brief}\r\n                </Typography>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import {IPageProps} from \"grvd/pages/types\";\r\nimport {\r\n    TemplateProfileCard,\r\n    TemplateProfileCardGlass,\r\n    TemplateProfileCardSimple, TemplateProfileCardWhiteSmooth\r\n} from \"grvd/molecules/User/templates/TemplateProfileCard\";\r\nimport {MerchantContext, useUser} from \"grvd/contexts\";\r\nimport {TemplateCard} from \"grvd/molecules/Template/TemplateCard\";\r\nimport {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport config from \"../../../../config\";\r\nimport {TTemplate} from \"grvd/molecules/Template/types\";\r\nimport {ProfileCard} from \"grvd/molecules\";\r\nimport {TemplateContext} from \"grvd/molecules/Template/TemplateContext\";\r\nimport {useFilterInput} from \"grvd/organisms/SearchInput/FilterInputContext\";\r\nimport {twJoin} from \"tailwind-merge\";\r\n\r\nexport interface IMenuTemplatePageProps extends IPageProps {\r\n}\r\n\r\nexport function MenuTemplatePage(props: IMenuTemplatePageProps) {\r\n    const user = useUser();\r\n    const [templates, setTemplates] = useState<TTemplate []>([]);\r\n    const {handleFilter} = useFilterInput();\r\n    const loadTemplates = async () => {\r\n        await axios\r\n            .get(`${config.server.url}/templates`, {\r\n                withCredentials: true,\r\n            })\r\n            .then((res) => {\r\n                setTemplates(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n    };\r\n    useEffect(() => {\r\n        loadTemplates().then().catch();\r\n        console.log(templates);\r\n    }, []);\r\n    return (\r\n        <MerchantContext.Provider value={user?.merchant}>\r\n            <div className={twJoin(\r\n                'grid grid-cols-[repeat(auto-fit,minmax(300px,1fr))] auto-rows-auto',\r\n                'gap-16',\r\n                'w-full',\r\n            )}>\r\n                {templates.filter(template=>{\r\n                    return handleFilter ? handleFilter(template) : true;\r\n                }).map((template, index) => {\r\n                    return (\r\n                        <TemplateContext.Provider value={template} key={index}>\r\n                            <TemplateCard>\r\n                                <ProfileCard typeCustom={template.templateType}/>\r\n                            </TemplateCard>\r\n                        </TemplateContext.Provider>\r\n                    );\r\n                })}\r\n            </div>\r\n        </MerchantContext.Provider>\r\n    );\r\n}"],"names":["TemplateContext","createContext","undefined","useTemplate","useContext","TemplateCard","props","user","useUser","template","merchant","useEffect","_jsxs","className","twJoin","children","_jsx","TemplateSample","TemplateCardMain","TemplateCardTool","id","_template$numberOfLik","open","useDialog","templateIds","setTemplateIds","useState","usingTemplateProfileCardId","setUsingTemplateProfileCardId","items","icon","FaRegHeart","size","label","numberOfLikes","toString","map","renderInfoItem","item","index","Typography","variant","Button","colorcustom","sizecustom","onClick","async","axios","patch","concat","config","server","url","withCredentials","then","res","data","catch","e","console","error","includes","post","filter","IoIosRemove","IoAdd","_template$tagLabels","tagLabels","tagLabel","name","brief","MenuTemplatePage","templates","setTemplates","handleFilter","useFilterInput","get","err","log","loadTemplates","MerchantContext","Provider","value","ProfileCard","typeCustom","templateType"],"sourceRoot":""}